# API-YAMDB
API реализация проекта "YAMDB"

## Содержание
- [1. Кратко о сервисе](#1-кратко-о-сервисе)
- [2. Полное описание](#2-полное-описание)
- [3. Функционал](#3-функционал)
- [4. Стек технологий](#4-стек-технологий)
- [5. Установка проекта](#5-установка-проекта)
- [6. Регистрация и авторизация](#6-регистрация-и-авторизация-пользователей)
- [7. Импорт данных из .csv документов](#7-импорт-данных-из-csv-документов)
- [8. Примеры запросов](#8-примеры-запросов)
- [9. Авторы](#9-авторы)

## 1. Кратко о сервисе
Сервис предоставляет возможность авторизованным пользователям оставлять отзывы на произведения и комментировать отзывы других пользователей.
Произведения создаются только администратором сервиса.

## 2. Полное описание
Представлено в виде ReDoc-а по адресу `<домен>/redoc/`
(если проект установлен локально, то адрес `http://127.0.0.1:8000/redoc/`)

## 3. Функционал
- Реализована система регистрации и аутентификации пользователей
- Произведения могут создавать только администраторы проекта
- Авторизованные пользователи могут оставлять отзывы к произведениям
- Авторизованные пользователи могут оставлять комментарии к отзывам

## 4. Стек технологий
- Python 3.9
- Django
- Django REST FrameWork
- Simple_JWT
- pytest


## 5. Установка проекта
- Клонируйте репозиторий
```shell
git clone git@github.com:sqqqwer/api_yamdb.git
```
- Перейдите в проект
```
cd api_yamdb/
```
- Cоздайте и активировируйте виртуальное окружение:
```
python -m venv venv
```
Если Linux:
```
. venv/bin/activate
```
Если Windows:
```
. venv/Scripts/activate
```
- Обновите pip
```
python -m pip install --upgrade pip
```
- Установите зависимости из файла requirements.txt:
```
pip install -r requirements.txt
```
- Выполните миграции:
```
python manage.py migrate
```
- Запустите проект:
```
python manage.py runserver
```

## 6. Регистрация и авторизация пользователей
### Регистрация
- Вам необходимо перейти в `<domen_name>/api/v1/auth/signup/`
- Отправьте POST-запрос в формате json
```json
{
  "username": "create_your_username",
  "email": "enter_your_email_for_verification"
}
```
### Авторизация
- Перейдите в `<domen_name>/api/v1/auth/token/`
- Отправьте POST-запрос в формате json
```json
{
  "username": "entering_before_username",
  "conformation_code": "code_which_you_get_on_specified_email"
}
```
- Вы получите токен авторизации для вашего пользователя

## 7. Импорт данных из .csv документов:
1. Находясь в локальной директории `api_yamdb/`, создайте базу данных.
```shell
python manage.py migrate
```
2. Запустите импортёр.
```shell
python manage.py loadfromcsv '<project_dir>/api_yamdb/static/data'
```

## 8. Примеры запросов

### Просмотр категорий без аутентификации
**Запрос**
```commandline
GET http://127.0.0.1:8000/api/v1/categories/
```
**Ответ**
```json
{
  "count": 3, 
  "next": null,
  "previous": null,
  "results": [
    {
      "name": "Фильм",
      "slug": "movie"
    },
    {
      "name": "Книга",
      "slug": "book"
    },
    {
      "name": "Музыка",
      "slug": "music"
    }
  ]
}
```
### Попытка неавторизованного пользователя удалить пользователя
**Запрос**
```commandline
DELETE http://127.0.0.1:8000/api/v1/users/regular_user/
```
**Ответ**
```json
{
    "detail": "Authentication credentials were not provided."
}
```

## 9. Авторы
- _Борисов Василий_
- _Чернявский Владислав_
- _Ермаков Виталий_
